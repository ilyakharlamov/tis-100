@0
MOV RIGHT ACC
MOV ACC DOWN
MOV ACC DOWN

@1
S: MOV UP ACC
JLZ CNT
MOV ACC LEFT
MOV ACC RIGHT
SWP
ADD 1
SWP
JMP S
CNT: MOV ACC LEFT
     SWP
     MOV ACC DOWN
     MOV 0 ACC
     SWP
     MOV DOWN NIL

@2


@3
S:MOV UP ACC
JLZ OMN
SUB DOWN
JLZ NEW
JMP OLD
NEW:MOV DOWN NIL
    MOV UP DOWN
    JMP S
OLD:MOV UP NIL
    MOV DOWN DOWN
    JMP S
OMN:MOV DOWN RIGHT
    JMP NEW

@4
CNT:MOV UP RIGHT
MOV RIGHT UP
MN:MOV LEFT RIGHT

@5
CNT:MOV LEFT ACC
    SAV
FF: MOV UP RIGHT
    SUB 1
    JGZ FF
MOV 1 LEFT
SWP
CN2:MOV ACC DOWN
MIN:MOV LEFT DOWN
MOV DOWN NIL

@6
S:  MOV 999 UP
    MOV 999 UP
L0: MOV UP ACC
    JLZ S
    MOV ACC UP
    MOV ACC UP
    JMP L0

@7
CNT:MOV UP ACC
    SWP
MIN:MOV UP ACC
    SWP
LOO:SWP
    MOV ACC RIGHT
    MOV RIGHT DOWN
    SWP
    SUB 1
    JGZ LOO
MOV -1 DOWN
MOV 1 UP

@8
MOV 0 ACC
SUB LEFT
ADD UP
MOV ACC LEFT