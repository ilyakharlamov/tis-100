@0
L: MOV RIGHT ACC
   SAV
   JEZ MR
   SUB RIGHT
   JLZ LL
R: JMP R2
LL:ADD RIGHT
   MOV ACC RIGHT
   JMP L
MR:MOV RIGHT NIL
R2:MOV RIGHT RIGHT
   JMP L

@1
MOV UP DOWN

@2
MOV UP DOWN

@3
S:  MOV UP ACC
SAM:SAV
    MOV ACC RIGHT
    SUB RIGHT
    JEZ S
    SWP
    JMP SAM

@4
S: MOV LEFT DOWN
   MOV RIGHT DOWN
RES:MOV DOWN ACC
    MOV ACC LEFT
    MOV ACC RIGHT

@5
S:  MOV UP ACC
SAM:SAV
    MOV ACC LEFT
    SUB LEFT
    JEZ S
    SWP
    JMP SAM

@6
MOV RIGHT ACC
MOV ACC RIGHT

@7
L: MOV RIGHT ACC
   JEZ MR
   SUB RIGHT
   JLZ LL
R: JMP R2
LL:ADD RIGHT
   MOV ACC RIGHT
   JMP L
MR:MOV RIGHT NIL
R2:MOV RIGHT RIGHT
   JMP L

@8
L: MOV UP ACC
   MOV ACC LEFT
   SWP
R: MOV UP ACC
   MOV ACC LEFT
   MOV ACC LEFT
CKR:JEZ NOUT
    SWP
    JEZ NOUT
CLC:MOV LEFT ACC
    JMP OUT
NOUT:SWP
     MOV LEFT NIL
OUT:MOV ACC UP
    MOV ACC DOWN